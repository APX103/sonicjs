<div class="col-lg-12">
  <div class="card">
    <div class="card-header">
      <i class="fa fa-align-justify"></i> Menu: {{data.data.title}} (Id:{{data.id}})
    </div>
    <div class="card-body page-list">

      <input id="id" type="hidden" value="{{data.id}}">

      <div class="container">
        <div class="row">
          <div class="col-md-4">

            <script type='text/javascript'>
              window.onload = function () {
                console.log('loading menuMainEdit form')
                let title = '{{data.data.title}}';
                Formio.createForm(document.getElementById('menuMainEdit'), {
                  components: [
                    {
                      type: 'textfield',
                      key: 'title',
                      label: 'Menu Title',
                      placeholder: 'ie: Main, Sidebar, Footer',
                      input: true
                    }
                  ]
                })
                  .then(async function (form) {
                    form.submission = {
                      data: {
                        title: title
                      }
                    };
                  });
              }
            </script>

            <div id="menuMainEdit"></div>
            <hr>

            <div id="menuTree"></div>
          </div>
          <div class="col-md-8 menu-edit-right">
            <h3>Edit Node</h3>
            <hr>
            <div id="menuTreeForm"></div>
          </div>
        </div>
      </div>


      {{!-- <div id="menuTree">
        <ul>
          <li>Root node
            <ul>
              <li>Child node 1</li>
              <li>Child node 2</li>
            </ul>
          </li>
          <li>Root node
            <ul>
              <li>Child node 1</li>
              <li>Child node 2</li>
            </ul>
          </li>
        </ul>
      </div> --}}


      <button class="btn btn-success add-node" id="addNode">Add Node</button>

      <hr>
      <div class="form-group has-feedback formio-component formio-component-button formio-component-submit  form-group">
        <button name="data[submit]" type="submit" class="btn btn-primary btn-md" lang="en" id="save">Save</button>
      </div>


    </div>
  </div>
</div>
<script>
  var menuData = {{{ data.data.linksString }}}

</script>
